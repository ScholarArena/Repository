下面给出一版更偏 **学术论文写法（形式化、可复现、概念尽量少）** 的完整方案。核心动机只围绕你强调的：**Evidence-Conditioned Strategic Acts（证据条件化策略行为）**。我会把“多线程/监管/技能”等都表述为这一动机的自然推论，而不是引入一堆新名词。

------

# ScholarArena：Evidence-Conditioned Strategic Acts for Scientific Review

## 1. 问题设定与目标

### 1.1 基本对象

给定一篇论文的结构化上下文 $\mathcal{C}$（来自 PDF/LaTeX 的分段文本、表格、引用、图注与可选代码索引），以及历史交互文本（若有）。我们的数据资产提供 **Semantic Act Instances**（语义行为实例），每条实例对应某一角色在某一争点上的一次策略性语言行为：

$$
a = \big(r,\ i,\ \text{intent},\ x,\ \rho \big)
$$

其中

- $r \in \{\text{Reviewer}, \text{Author}, \text{Meta}\}$ 为角色；
- $i$ 为争点标识（issue/thread key，可由已有 issue_id 或由 grounding_ref + target 归一化得到）；
- $\text{intent}$ 为策略意图标签（来自你已有 strategic_intent 或压缩后的少量类型）；
- $x$ 为原始语言行为文本（action_text）；
- $\rho$ 为指向论文证据锚点的引用信息（grounding_ref, source_seg_ids, latent_tool_calls）。

> 这一定义保持与你现有数据字段对齐，不新增信息来源。

### 1.2 核心目标：证据条件化的策略行为

我们学习一个统一策略模型 $\pi_\theta$（同一 LLM，通过 role-conditioning 扮演三角色），使其在给定状态下输出的策略行为满足：

1. **证据门控（Evidence Gating）**：关键主张只能建立在可核验观测（Observation）之上；
2. **线程化收敛（Issue-wise Convergence）**：围绕同一争点的多步交互应收敛到“已解决/未解决/证据不足”的结构化结论；
3. **人类可用（Human-facing）**：输出应直接服务审稿人、作者、AC 的实际工作（可执行的请求/承诺/裁决骨架），而非长篇自由生成。

形式化地，我们把一次策略行为写为对 $\mathcal{C}$ 的“证据条件化映射”：

$$
\text{Move}_t := \big(\text{intent}_t,\ \text{skill}_t,\ o_t,\ y_t\big)
$$

其中

- $\text{skill}_t$ 是对技能库中某一技能的调用（参数化、受控、可复现）；
- $o_t$ 是执行后返回的观测（Observation）；
- $y_t$ 是角色输出的结构化动作（例如审稿请求、作者承诺、元审裁决摘要）；
  并要求 $y_t$ 中的关键主张必须引用 $o_t$（或显式声明 $o_t$ 缺失并转为证据请求/计划）。

------

## 2. 最小机制：Observation 与 Skills（只为“证据条件化”服务）

### 2.1 Observation：唯一可引用的“证据载体”

定义观测 $o$ 为结构化对象，带 provenance（可追溯）与状态码：

$$
o = (\text{type},\ \text{payload},\ \text{prov},\ \text{status})
$$

- $\text{prov}$ 必须定位到 $\mathcal{C}$ 的片段（如 seg_ids、table_id、bib_id、hash）；
- $\text{status}\in\{\text{ok},\text{missing},\text{fail}\}$。

**关键约束（用于反驳“虚拟观测”）：**
若无法从 $\mathcal{C}$ 抽取或通过技能执行得到观测，则必须输出 $\text{status}=\text{missing}$，模型行为只能退化为“证据请求/补实验承诺”，不得以语言补齐“合理但不可证”的观测内容。

### 2.2 Skills：把审稿常见证据需求变成可复现观测

技能集合 $\mathcal{S}$ 是离线构建并通过测试门控的一组函数：

$$
s \in \mathcal{S}:\quad s(\mathcal{C},\ \phi) \rightarrow o
$$

其中 $\phi$ 为参数（由 intent 与论文定位信息决定）。技能的范围应收敛于审稿高频证据需求（例如：基线对齐检查、表格抽取与一致性核验、消融缺口检测、可复现清单抽取、引用对齐等）。
技能实现与测试属于工程细节；论文中只需强调两点：

- 技能输出必须是结构化观测 $o$；
- 任何线上策略行为的证据引用只能来自 $o$。

------

## 3. 状态表示：争点线程（Issue-wise State）与最小状态机

### 3.1 争点线程状态

将评审过程按争点分解，线程 $i$ 的状态记为 $S_i^t$。最小充分的线程状态只需包含：

$$
S_i^t = \big(\text{issue\_tag},\ \text{ledger}_i^t,\ \text{budget}_i^t\big)
$$

其中 ledger 记录该争点的证据与承诺的累积：

$$
\text{ledger}_i^t = (\mathcal{O}_i^t,\ \mathcal{R}_i^t,\ \mathcal{K}_i^t,\ \text{sev}_i^t)
$$

- $\mathcal{O}_i^t$：该线程获得的观测集合（带引用）；
- $\mathcal{R}_i^t$：Reviewer 的请求集合（可执行、可验证）；
- $\mathcal{K}_i^t$：Author 的承诺集合（补实验/补说明/补引用等）；
- $\text{sev}_i^t$：严重度（minor/major/critical）。

> 这套 ledger 是“证据条件化策略行为”的载体：模型不需要读长对话，只要读 ledger 即可生成下一步受证据约束的动作。

### 3.2 最小状态机（FSM）

每个线程采用四态即可，不引入额外复杂控制：

$$
\text{phase}_i^t \in \{\text{Open},\ \text{EvidencePending},\ \text{Negotiation},\ \text{Closed}\}
$$

转移仅由“是否获得新的有效观测”“是否形成可执行承诺”“预算是否耗尽”等确定性规则触发。
这保证评审交互在有限步内收敛，且便于评测与数据构建。

------

## 4. 统一策略模型与在线交互（Arena）

### 4.1 统一策略模型

使用同一 LLM 参数化策略 $\pi_\theta$，通过 role-conditioning 实现三角色：

$$
(\text{intent},\ \text{skill\_call}) \sim \pi_\theta(\cdot \mid r,\ S_i^t,\ \mathcal{C})
$$
$$
y \sim \pi_\theta(\cdot \mid r,\ S_i^t,\ \mathcal{C},\ o)
$$

其中 $y$ 为结构化输出（而非自由长文），例如：

- Reviewer：claims（需证据）、requests、severity、next-step
- Author：responses（逐条：承认/反驳/澄清）、commitments、patch plan、risk flags
- Meta：per-thread summary、global decision suggestion、action items

### 4.2 原子交互单元（Move）

对任一线程 $i$，一步交互严格为：

$$
S_i^t \xrightarrow{\pi_\theta} (\text{intent}_t,\ \text{skill\_call}_t)
\xrightarrow{\text{Executor}} o_t
\xrightarrow{\pi_\theta} y_t
\xrightarrow{\text{Update}} S_i^{t+1}
$$

并施加 **证据门控约束**：

- $y_t$ 中任何关键主张必须引用 $o_t$ 或 $\mathcal{O}_i^t$ 中的某个观测 id；
- 若 $o_t$ 为 missing/fail，则 $y_t$ 只能输出“请求/承诺/计划”而不能输出结论性主张。

### 4.3 多线程调度：Meta 作为监管者（不新增概念，只是角色职责）

Meta-Reviewer 的作用只需形式化为对线程集合的调度函数：

$$
\mathcal{T}_t \subseteq \{i\} \sim \pi_\theta(\cdot \mid r=\text{Meta},\ \{S_i^t\},\ \mathcal{C})
$$

输出为本轮需要推进的线程集合与预算分配。
调度策略可以加入最小的“争点耦合”规则（例如 correctness 未解决时 novelty 的置信度上限降低），但论文可表述为：**Meta 在 ledger 层面执行全局一致性约束**，无需引入复杂新模块。

------

## 5. 离线数据构建：从 Semantic Acts 到可训练的证据条件化轨迹

你的关键要求是“从原始 semantic act instances 衍生的连续性”。这里给出严格的构建路径，不依赖虚构观测。

### 5.1 线程重建（保证连续性）

对每个 forum：

1. 按 $i$ 聚合 acts 得到线程序列（使用 issue_id 或 grounding/target 归一化）；
2. 按 timestamp 排序得到 $\{a_t\}$；
3. 以确定性规则更新 ledger，形成 $\{S_i^t\}$。

### 5.2 观测补全（只允许两类来源）

对每个 act（或对齐后的 move）补全 observation：

- **可抽取证据（TextEvidence）**：从 $\mathcal{C}$ 的 seg/table/bib 确定性抽取并结构化；
- **可执行证据（SkillEvidence）**：调用技能库得到 $o$。

若两者都不可得：标记 $o.\text{status}=\text{missing}$。
这会把数据集自然分成三类：ok / missing / fail，对训练“请求证据”行为非常重要。

### 5.3 SFT 样本形式（最少三任务即可闭环）

不需要引入新的数据结构，直接在 move 级别构建三类样本：

1. **Move Planning**：$(r, S_i^t, \mathcal{C}) \to (\text{intent}_t,\ \text{skill\_call}_t)$
2. **Evidence-Conditioned Action**：$(r, S_i^t, \mathcal{C}, o_t) \to y_t$
3. **Meta Tracking/Decision（可选但很有价值）**：$(S_i^{1:T}) \to \text{phase}_i^T$ 或全局 decision

> 这三任务直接对应“证据条件化策略行为”：先决定要什么证据、再在证据约束下行动、最后做可解释的状态/裁决。

------

## 6. 评测：围绕 Evidence-Conditioned Strategic Acts 的三条命题（T1/T2/T3）

### 6.1 T1：证据门控是否真的降低“无证据主张”

- Unsupported-Claim Rate（无可引用观测的结论性主张比例）
- Claim–Observation Consistency（主张与观测字段一致性）
- Evidence Coverage/Precision（请求/承诺是否指向可验证证据）

### 6.2 T2：意图—技能解耦是否提升迁移与稳健

- 固定意图空间与线程状态表示，仅替换技能实现/证据来源：性能下降（transfer drop）
- skill_call 合法率、有效观测产出率
- intent 与 obs_type 匹配度（例如“缺基线”应触发 baseline/comparison 类观测）

### 6.3 T3：线程 ledger 是否实现决策压缩与鲁棒

- token/time cost（相同质量下输入压缩）
- meta decision consistency（与历史 meta/decision 或代理标签一致性）
- 噪声/注入下的 ledger 稳定性与最终裁决稳定性

------

## 7. 你需要在论文里主动写出的“边界与批判点”（以免被攻击）

1. **不允许虚拟观测**：缺证据即 missing；模型要学会请求与承诺，不是编造。
2. **技能覆盖有限但可闭环扩展**：以 failure/missing 统计驱动技能补充与回归测试。
3. **统一模型控制变量**：Reviewer/Author/Meta 同一模型不同条件化；Meta/抽取/判别使用确定性配置（如 T=0，结构化输入输出）以保证可复现与可评测。

------

# 小结（用一句话把动机与机制扣紧）

ScholarArena 以 **Evidence-Conditioned Strategic Acts** 为中心：把每次审稿/回复/元审动作都约束为“先取证据（observation），再在证据条件下行动”，并在争点线程级别累积 ledger 以实现有限步收敛与可解释裁决；从而将你已有的 semantic act instances 连续重构为可训练、可回放、可评测的策略轨迹。
